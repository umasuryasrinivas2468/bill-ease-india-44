# Aiva Invoice Detection - Quick Start Guide

## What's New? ğŸ†•

Aiva now **automatically detects invoice-related questions** and provides **direct navigation links** to the relevant pages!

## Try It Out! ğŸ‘‰

Click the **Aiva button** (bottom-right corner) and ask any of these questions:

### Invoice Questions
- âœ… "What are my pending invoices?"
- âœ… "Show me outstanding amounts"
- âœ… "List all unpaid bills"
- âœ… "How many invoices have I created?"
- âœ… "What's my total outstanding amount?"

### Payment Status Questions
- âœ… "Show me payment records"
- âœ… "What invoices are overdue?"
- âœ… "Which clients haven't paid?"

### GST Questions
- âœ… "How much GST have I collected?"
- âœ… "What's my GST liability?"
- âœ… "Show me GST records"

### Billing Questions
- âœ… "Show me paid invoices"
- âœ… "What's my billing status?"
- âœ… "List all recent bills"

## How It Works ğŸ”„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ You ask Aiva about invoices                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Aiva detects invoice-related keywords       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI generates accurate answer                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Action link appears: "View All Invoices"   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click button â†’ Jump to Invoices page        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Supported Keywords ğŸ“

### Primary Keywords
- `invoice` â†’ View All Invoices
- `billing` â†’ Go to Invoices
- `bill` â†’ Go to Invoices
- `payment` â†’ Manage Invoices
- `gst` â†’ View GST Filing

### Secondary Keywords (Trigger Primary Actions)
- payment record
- payment status
- invoice number
- invoice date
- invoice amount
- paid invoice
- pending invoice
- overdue
- outstanding
- client payment
- customer payment
- payment due
- invoice list
- all invoices
- recent invoices
- invoice total
- invoice status
- unpaid
- payment received

## Action Links Available ğŸ”—

| Action | Destination | Use When Asking About |
|--------|------------|----------------------|
| **View All Invoices** | Invoices page | General invoice questions |
| **Go to Invoices** | Invoices page | Billing-related questions |
| **View GST Filing** | GST3 Filing | GST collection & liability |
| **Manage Invoices** | Invoices page | Payment status questions |

## Example Conversation ğŸ’¬

```
You: "How many pending invoices do I have?"

Aiva: "Based on your data, you have 5 pending invoices 
totaling â‚¹45,000. The oldest pending invoice is from 
December 20, 2024.

[View All Invoices â†’]
        â†“ Click this button
        â†“ Automatically opens Invoices page
```

## Tips & Tricks ğŸ’¡

### âœ“ DO's
- âœ… Ask specific questions ("Show me pending invoices")
- âœ… Use the suggested questions (they work great!)
- âœ… Click action links to see detailed data
- âœ… Ask multiple questions in one conversation

### âœ— DON'Ts
- âŒ Don't worry about exact wording
- âŒ Capitalization doesn't matter
- âŒ You don't need to phrase it perfectly

## Common Scenarios ğŸ¯

### Scenario 1: Quick Invoices Overview
```
Question: "Show me my invoices"
Result: Gets invoice summary + link to Invoices page
Action: Click link to see full invoice list
```

### Scenario 2: Payment Status Check
```
Question: "What payments am I waiting for?"
Result: Shows pending payments + link to manage
Action: Click to mark as paid or follow up
```

### Scenario 3: GST Filing Help
```
Question: "How much GST do I owe?"
Result: Shows GST calculation + link to filing
Action: Click to prepare GST filing
```

### Scenario 4: Financial Analysis
```
Question: "What's my profit and loss?"
Result: Shows P&L analysis (no action link needed)
Action: Continue asking related questions
```

## Navigation Behavior ğŸš€

When you click an action link:
1. **Chat closes automatically** â† Keeps UI clean
2. **Navigate to page** â† You're taken directly to the page
3. **Resume chat later** â† Click Aiva button anytime to continue

## Troubleshooting ğŸ”§

### Q: "The action link doesn't appear"
**A:** Try using keywords like "invoice", "billing", "payment", or "gst"

### Q: "I clicked the link but nothing happened"
**A:** Check your browser console for errors, or try refreshing the page

### Q: "Can I customize the links?"
**A:** Yes! Edit the action map in `supabase/functions/financial-advisor/index.ts`

### Q: "Can I add more keywords?"
**A:** Yes! Update the `invoiceKeywords` array in the Edge Function

## What Gets Sent to Aiva? ğŸ“¤

Your financial data context (no sensitive details):
- âœ“ Invoice count and totals
- âœ“ Payment status summary
- âœ“ GST collection data
- âœ“ Outstanding receivables
- âœ“ Basic business summary
- âœ— No passwords
- âœ— No customer personal data
- âœ— No payment methods

## Next Steps ğŸ“

1. **Click the Aiva button** (bottom-right)
2. **Try a suggested question** or ask your own
3. **Click the action link** when it appears
4. **Enjoy faster navigation!** ğŸš€

---

**Have questions?** Check the full documentation at `AIVA_INVOICE_DETECTION_FEATURE.md`